
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="style.css">


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

    <script src="https://requirejs.org/docs/release/2.3.6/minified/require.js"> </script>

    <style type="text/css">
      .fullsize  {
          height: 95%;
          width: 100%;
      }
      #container {
        font-family: monospace;
      }

      .hide-scroll {
        overflow: hidden;
      }

      .viewport {
          overflow: auto;

          /* Make sure the inner div is not larger than the container
           * so that we have room to scroll.
           */
          max-height: 100%;

    /* Pick an arbitrary margin/padding that should be bigger
     * than the max width of all the scroll bars across
     * the devices you are targeting.
     * padding = -margin
     */
    margin-right: -100px;
    padding-right: 100px;
      }

    </style>
</head>

<body class="hide-scroll">
  { <a href="/"> back </a> 
    <a href="#"> save </a> }

  { edit: 
    <a href="/cf.reqf/index.html?edit"> index </a> 
    <a href="/cf.reqf/edit.html?edit"> edit </a>
    <a href="/cf.reqf/log.txt?edit"> log </a>
    <a href="/cf.reqf/style.css?edit"> style </a>
    <a href="/server.js?edit"> server </a> 
    <a href="/processMacros.js?edit"> processMacros </a>
    <a href="/test.html.m?edit"> test.html.m </a> } 

  { open:
    <a href="/test.html.m"> test.html.m </a>
    <a href="/test.html.m?preprocessed"> test.html.m?preprocessed </a> } 

    <form action="/index.html?restart" method="post">
        <button>restart server</button> 
    </form>

  <br/> 

  <textarea class="fullsize viewport" id="container" rows="15" cols="50">
    
	&lt;html&gt;
	  &lt;head&gt;
	    &lt;link rel="stylesheet" type="text/css" href="style.css"&gt;
	
	
	    &lt;link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css"&gt;
	    &lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"&gt;&lt;/script&gt;
	    &lt;script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"&gt;&lt;/script&gt;
	
	    &lt;script src="https://requirejs.org/docs/release/2.3.6/minified/require.js"&gt; &lt;/script&gt;
	
	    &lt;style type="text/css"&gt;
	      .fullsize  {
	          height: 95%;
	          width: 100%;
	      }
	      #container {
	        font-family: monospace;
	      }
	
	      .hide-scroll {
	        overflow: hidden;
	      }
	
	      .viewport {
	          overflow: auto;
	
	          /* Make sure the inner div is not larger than the container
	           * so that we have room to scroll.
	           */
	          max-height: 100%;
	
	    /* Pick an arbitrary margin/padding that should be bigger
	     * than the max width of all the scroll bars across
	     * the devices you are targeting.
	     * padding = -margin
	     */
	    margin-right: -100px;
	    padding-right: 100px;
	      }
	
	    &lt;/style&gt;
	&lt;/head&gt;
	
	&lt;body class="hide-scroll"&gt;
	  { &lt;a href="/"&gt; back &lt;/a&gt; 
	    &lt;a href="#"&gt; save &lt;/a&gt; }
	
	  { edit: 
	    &lt;a href="/cf.reqf/index.html?edit"&gt; index &lt;/a&gt; 
	    &lt;a href="/cf.reqf/edit.html?edit"&gt; edit &lt;/a&gt;
	    &lt;a href="/cf.reqf/log.txt?edit"&gt; log &lt;/a&gt;
	    &lt;a href="/cf.reqf/style.css?edit"&gt; style &lt;/a&gt;
	    &lt;a href="/server.js?edit"&gt; server &lt;/a&gt; 
	    &lt;a href="/processMacros.js?edit"&gt; processMacros &lt;/a&gt;
	    &lt;a href="/test.html.m?edit"&gt; test.html.m &lt;/a&gt; } 
	
	  { open:
	    &lt;a href="/test.html.m"&gt; test.html.m &lt;/a&gt;
	    &lt;a href="/test.html.m?preprocessed"&gt; test.html.m?preprocessed &lt;/a&gt; } 
	
	    &lt;form action="/index.html?restart" method="post"&gt;
	        &lt;button&gt;restart server&lt;/button&gt; 
	    &lt;/form&gt;
	
	  &lt;br/&gt; 
	
	  &lt;textarea class="fullsize viewport" id="container" rows="15" cols="50"&gt;
	    -&gt; {&amp;amp;}
	    -&gt; {&amp;gt;}
	    -&gt; {&amp;lt;}
	    -&gt; {-&gt; {%}:}
	    -&gt; {:t}
	    -&gt; {::treat_sc_param(::filecontent)}
        &lt;/textarea&gt; 
	
	  &lt;script&gt;
	
	    const container = document.getElementById("container");
	    
	    container.addEventListener({''`}change{''`}, function() {
            -&gt; {::filepath}
	        const url = ;
	        let req = new XMLHttpRequest();
	        req.open({''`}PUT{''`}, url);
	        req.setRequestHeader({''`}Content-Type{''`}, "text/plain");  
	        req.send(container.value); 
	    }, false);
	
	  &lt;/script&gt;
	
	&lt;body&gt;
	
	&lt;/html&gt;
	
</textarea> 

  <script>

    const container = document.getElementById("container");
    
    container.addEventListener({''`}change{''`}, function() {
        const url = public/loaders/edit.html.swirl;
        let req = new XMLHttpRequest();
        req.open({''`}PUT{''`}, url);
        req.setRequestHeader({''`}Content-Type{''`}, "text/plain");  
        req.send(container.value); 
    }, false);

  </script>

<body>

</html>
